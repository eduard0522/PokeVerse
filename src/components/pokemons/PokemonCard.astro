---
import  { pokemonTypes, typeColors } from '../../utilities/pokemonTypes'

interface Props {
  name: string
  url: string
  isBig?: boolean
  description?: string
  types?: string[]
}
const { name, url, isBig, description, types } = Astro.props

const pokemonId = url.split('/').at(-2)

const imageUrl = `https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/other/official-artwork/${pokemonId}.png`
---

<a
  href=`/pokemons/${name}`
  class='flex- flex-col items-center justify-center group transition-all
  p-2 rounded-2xl'
>
  <img
    transition:name={`${name}-image`}
    src={imageUrl}
    alt=`Pokemon ${name}`
    class:list={[
      'mx-auto transition-all h-48',
      { 'group-hover:scale-110': !isBig },
      { 'w-2xl h-auto': isBig },
    ]}
  />

  {
    isBig ? (
      <div>
        <ul class='text-slate-100 text-2xl md:text-2xl xl:text-4xl  capitalize flex justify-center gap-4 items-center'>
          {types?.map((type: string) => (
            <li
              class={`px-4 py-2 rounded-md text-white font-bold text-center ${typeColors[type]}`}
            >
              {' '}
              {`${pokemonTypes[type]} `}{' '}
            </li>
          ))}
        </ul>
      </div>
    ) : (
      ''
    )
  }
  <h3
    class:list={[
      `text-2xl  text-center font-bold  capitalize 
        bg-gradient-to-br from-slate-100 to-sky-400 bg-clip-text text-transparent`,
      { 'text-4xl mt-4': isBig },
    ]}
  >
    {name}
  </h3>
  <p class=' text-xl md:text-2xl xl:text-4xl py-4 text-center text-slate-100 max-w-3xl'>
    {description}
  </p>
</a>
